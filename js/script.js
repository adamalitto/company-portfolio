const translations = {
  en: {
    menuLabel: "Menu",
    navBackProjects: "Back to projects",
    navHome: "Home",
    navServices: "Services",
    navProjects: "Projects",
    navAbout: "About",
    navContact: "Contact",
    heroEyebrow: "Infrastructure Engineering Studio",
    heroTitle: "Designing safer roads with measurable impact",
    heroSub: "We deliver transport and civil infrastructure design packages that are buildable, compliant, and cost-efficient.",
    ctaProposal: "Request Proposal",
    ctaProjects: "View Projects",
    metricProjects: "Infrastructure projects delivered",
    metricRegions: "Regions covered",
    metricExperience: "Industry experience",
    evolutionEyebrow: "Design transformation",
    evolutionTitle: "From technical drawings to real-world roads",
    evolutionSub: "A conceptual animation showing the workflow from CAD planning to 3D coordination to built infrastructure.",
    stageCad: "CAD",
    stage3d: "3D Model",
    stageReal: "Real Site",
    priorityEyebrow: "Project classes",
    priorityTitle: "Structured delivery for different priority levels",
    priorityTag1: "Tier 1",
    priorityTag2: "Tier 2",
    priorityTag3: "Tier 3",
    priorityCard1Title: "National and strategic corridors",
    priorityCard1Body: "High-security design workflow for state and critical urban routes with strict approval control.",
    priorityCard2Title: "Urban commercial infrastructure",
    priorityCard2Body: "Traffic-sensitive design packages for malls, business zones, and mixed-use developments.",
    priorityCard3Title: "Primary and secondary roads",
    priorityCard3Body: "Scalable design standards for regional links, local connectors, and staged expansion programs.",
    processEyebrow: "Execution method",
    processTitle: "Engineering process built for accountability",
    processStep1Title: "01. Diagnostics and risk map",
    processStep1Body: "Survey baseline, demand model, and risk register aligned to project constraints.",
    processStep2Title: "02. Design alternatives",
    processStep2Body: "Multi-option concept with safety, cost, constructability, and phasing tradeoff review.",
    processStep3Title: "03. Coordinated package",
    processStep3Body: "Road, structural, drainage, and utility documentation synchronized into one package.",
    processStep4Title: "04. Tender and supervision support",
    processStep4Body: "Tender-ready deliverables with controlled revisions and implementation guidance.",
    secureEyebrow: "Confidential workflow",
    secureTitle: "Security and confidentiality by default",
    secureSub: "For high-priority and sensitive projects, we apply controlled document circulation and approval-chain governance.",
    secureCard1Title: "Controlled access",
    secureCard1Body: "Role-based sharing model and milestone-gated information access.",
    secureCard2Title: "Revision traceability",
    secureCard2Body: "Every package update is versioned with technical accountability and approval logs.",
    secureCard3Title: "Operational discipline",
    secureCard3Body: "Confidentiality protocol integrated into coordination, delivery, and supervision stages.",
    servicesEyebrow: "Core capabilities",
    servicesTitle: "What we execute end-to-end",
    service1Title: "Road design",
    service1Body: "Feasibility studies, geometric alignment, pavement design, and traffic safety integration.",
    service2Title: "Bridge and structures",
    service2Body: "Concept, detailed drawings, load checks, and multidisciplinary coordination for structures.",
    service3Title: "Construction documentation",
    service3Body: "Tender-ready documentation, bill of quantities, and technical supervision support.",
    projectsEyebrow: "Selected portfolio",
    projectsTitle: "Recent project highlights",
    projectDescriptionTitle: "Project description",
    scopeTitle: "Scope",
    clientObjectiveTitle: "Client objective",
    resultTitle: "Result",
    timelineTitle: "Project timeline",
    mediaPhotosTitle: "Project photos",
    mediaVideoTitle: "Project video",
    mediaAudioTitle: "Project audio briefing",
    previousProject: "Previous project",
    nextProject: "Next project",
    phase1Label: "Phase 1",
    phase2Label: "Phase 2",
    phase3Label: "Phase 3",
    project1Title: "Tashkent Ring Road Upgrade",
    project1Body: "32 km corridor modernization with phased traffic continuity planning.",
    project2Title: "Urban Arterial Expansion",
    project2Body: "Capacity expansion, drainage redesign, and pedestrian safety improvements.",
    project3Title: "Bridge Access Interchange",
    project3Body: "Interchange geometry and structural package optimized for heavy-load traffic.",
    project4Title: "Regional Highway Reconstruction",
    project4Body: "Corridor reconstruction package with safety upgrades and drainage redesign.",
    project5Title: "Logistics Hub Access Roads",
    project5Body: "Industrial access network with heavy-vehicle geometry and staged implementation.",
    aboutEyebrow: "Company profile",
    aboutTitle: "Engineering discipline with delivery focus",
    aboutBody: "YOL LOYIHA TARAQQIYOT is a transport infrastructure design firm based in Tashkent. Our team combines design precision, local regulatory knowledge, and construction-aware decision making to reduce project risk and increase execution speed.",
    contactEyebrow: "Start a project",
    contactTitle: "Send your project scope for a technical review",
    contactCompanyLabel: "Company:",
    contactCompanyValue: "YOL LOYIHA TARAQQIYOT LLC",
    contactAddressLabel: "Address:",
    contactAddressValue: "Tashkent, Almazar district, 2 Beruniy street, apt 15",
    contactPostalLabel: "Postal code:",
    contactPostalValue: "100020",
    contactAccountLabel: "Account:",
    contactAccountValue: "2020 8000 8051 2411 5001",
    contactBankLabel: "Bank:",
    contactBankValue: "Almazar branch of ATIB Ipoteka Bank",
    contactMfoLabel: "MFO:",
    contactMfoValue: "00901",
    contactTaxLabel: "TIN:",
    contactTaxValue: "306714958",
    contactOkedLabel: "OKED:",
    contactOkedValue: "96120",
    formName: "Full name",
    formEmail: "Work email",
    formMessage: "Project details",
    formSubmit: "Send request"
  },
  uz: {
    menuLabel: "Menyu",
    navBackProjects: "Loyihalarga qaytish",
    navHome: "Bosh sahifa",
    navServices: "Xizmatlar",
    navProjects: "Loyihalar",
    navAbout: "Kompaniya",
    navContact: "Aloqa",
    heroEyebrow: "Infratuzilma muhandisligi studiyasi",
    heroTitle: "Biz yo'llarni xavfsizroq va samaraliroq loyihalaymiz",
    heroSub: "Qurilishga tayyor, me'yoriy talablarga mos va iqtisodiy jihatdan samarali transport hamda fuqarolik infratuzilmasi yechimlarini ishlab chiqamiz.",
    ctaProposal: "Tijorat taklifini oling",
    ctaProjects: "Loyihalarni ko'rish",
    metricProjects: "Yakunlangan infratuzilma loyihalari",
    metricRegions: "Qamrab olingan hududlar",
    metricExperience: "Sohadagi tajriba",
    evolutionEyebrow: "Loyihadan amaliyotga",
    evolutionTitle: "Texnik chizmalardan real yo'l obyektigacha",
    evolutionSub: "CAD rejalashdan 3D muvofiqlashtirish va yakuniy qurilgan obyektgacha bo'lgan jarayonning konseptual animatsiyasi.",
    stageCad: "CAD",
    stage3d: "3D Model",
    stageReal: "Real Obyekt",
    priorityEyebrow: "Loyiha toifalari",
    priorityTitle: "Turli ustuvorlik darajalari uchun tizimli ijro",
    priorityTag1: "1-daraja",
    priorityTag2: "2-daraja",
    priorityTag3: "3-daraja",
    priorityCard1Title: "Milliy va strategik koridorlar",
    priorityCard1Body: "Davlat ahamiyatidagi yo'nalishlar uchun qat'iy tasdiqlash nazorati bilan himoyalangan loyiha jarayoni.",
    priorityCard2Title: "Shahar tijorat infratuzilmasi",
    priorityCard2Body: "Savdo markazlari, biznes hududlar va aralash loyihalar uchun transportga sezgir yechimlar.",
    priorityCard3Title: "Asosiy va ikkilamchi yo'llar",
    priorityCard3Body: "Hududiy bog'lanish va bosqichma-bosqich kengayish dasturlari uchun moslashuvchan standartlar.",
    processEyebrow: "Ijro metodikasi",
    processTitle: "Mas'uliyatga asoslangan muhandislik jarayoni",
    processStep1Title: "01. Diagnostika va risk xaritasi",
    processStep1Body: "Boshlang'ich holat, talab modeli va risklar reyestri loyiha cheklovlariga moslashtiriladi.",
    processStep2Title: "02. Muqobil yechimlar",
    processStep2Body: "Xavfsizlik, qiymat, quriluvchanlik va bosqichlash bo'yicha variantlar solishtiriladi.",
    processStep3Title: "03. Muvofiqlashtirilgan paket",
    processStep3Body: "Yo'l, konstruksiya, drenaj va kommunikatsiya hujjatlari yagona paketga birlashtiriladi.",
    processStep4Title: "04. Tender va texnik kuzatuv",
    processStep4Body: "Tenderga tayyor hujjatlar va amalga oshirish bo'yicha boshqariladigan tavsiyalar beriladi.",
    secureEyebrow: "Maxfiy ish jarayoni",
    secureTitle: "Xavfsizlik va maxfiylik - standart yondashuv",
    secureSub: "Yuqori ustuvorlikdagi loyihalarda hujjatlar aylanishi va tasdiqlash zanjiri qat'iy boshqariladi.",
    secureCard1Title: "Nazoratli kirish",
    secureCard1Body: "Rolga asoslangan ulashish va bosqichma-bosqich ruxsat modeli.",
    secureCard2Title: "O'zgarishlar izchilligi",
    secureCard2Body: "Har bir yangilanish texnik javobgarlik va tasdiqlash jurnali bilan qayd etiladi.",
    secureCard3Title: "Operatsion intizom",
    secureCard3Body: "Maxfiylik protokoli muvofiqlashtirish, topshirish va kuzatuv bosqichlariga integratsiya qilinadi.",
    servicesEyebrow: "Asosiy yo'nalishlar",
    servicesTitle: "Biz bajaradigan ishlar",
    service1Title: "Yo'l loyihalash",
    service1Body: "Texnik-iqtisodiy asoslash, trassa geometriyasi, qoplama dizayni va harakat xavfsizligi yechimlari.",
    service2Title: "Ko'prik va inshootlar",
    service2Body: "Konsept, ishchi chizmalar, yuklama hisoblari va mutaxassisliklararo muvofiqlashtirish.",
    service3Title: "Qurilish hujjatlari",
    service3Body: "Tenderga tayyor hujjatlar, hajmlar vedomosti va texnik nazoratga ko'mak.",
    projectsEyebrow: "Tanlangan portfolio",
    projectsTitle: "So'nggi loyiha namunalari",
    projectDescriptionTitle: "Loyiha tavsifi",
    scopeTitle: "Qamrov",
    clientObjectiveTitle: "Buyurtmachi maqsadi",
    resultTitle: "Natija",
    timelineTitle: "Loyiha jadvali",
    mediaPhotosTitle: "Loyiha suratlari",
    mediaVideoTitle: "Loyiha videosi",
    mediaAudioTitle: "Loyiha audio sharhi",
    previousProject: "Oldingi loyiha",
    nextProject: "Keyingi loyiha",
    phase1Label: "1-bosqich",
    phase2Label: "2-bosqich",
    phase3Label: "3-bosqich",
    project1Title: "Toshkent halqa yo'li modernizatsiyasi",
    project1Body: "32 km yo'l koridorini bosqichma-bosqich yangilash va transport harakatini uzluksiz saqlash rejasi.",
    project2Title: "Shahar magistrali kengaytmasi",
    project2Body: "O'tkazuvchanlikni oshirish, drenaj tizimini yangilash va piyodalar xavfsizligini kuchaytirish.",
    project3Title: "Ko'prikka kirish yo'li tuguni",
    project3Body: "Yuqori yuklama uchun tugun geometriyasi va konstruktorlik paketi optimallashtirildi.",
    project4Title: "Hududiy avtomagistral rekonstruksiyasi",
    project4Body: "Harakat xavfsizligi va drenaj tizimini yangilashni o'z ichiga olgan koridor rekonstruksiya paketi.",
    project5Title: "Logistika markaziga kirish yo'llari",
    project5Body: "Og'ir yuk transporti uchun moslashtirilgan kirish yo'llari va bosqichma-bosqich amalga oshirish rejasi.",
    aboutEyebrow: "Kompaniya profili",
    aboutTitle: "Muhandislik intizomi va natijaga yo'naltirilgan yondashuv",
    aboutBody: "YOL LOYIHA TARAQQIYOT - Toshkentda joylashgan transport infratuzilmasini loyihalash kompaniyasi. Jamoamiz loyihalash aniqligi, mahalliy me'yorlarni chuqur bilish va qurilish amaliyotini tushunish orqali loyiha xavfini kamaytiradi.",
    contactEyebrow: "Loyihani boshlash",
    contactTitle: "Texnik ko'rib chiqish uchun loyiha topshirig'ini yuboring",
    contactCompanyLabel: "Kompaniya:",
    contactCompanyValue: "YOL LOYIHA TARAQQIYOT MCHJ",
    contactAddressLabel: "Manzil:",
    contactAddressValue: "Toshkent shahri, Olmazor tumani, Beruniy ko'chasi, 2-uy, 15-xonadon",
    contactPostalLabel: "Pochta indeksi:",
    contactPostalValue: "100020",
    contactAccountLabel: "Hisob raqami:",
    contactAccountValue: "2020 8000 8051 2411 5001",
    contactBankLabel: "Bank:",
    contactBankValue: "ATIB Ipoteka bank, Olmazor filiali",
    contactMfoLabel: "MFO:",
    contactMfoValue: "00901",
    contactTaxLabel: "STIR:",
    contactTaxValue: "306714958",
    contactOkedLabel: "OKED:",
    contactOkedValue: "96120",
    formName: "F.I.Sh.",
    formEmail: "Ishchi email",
    formMessage: "Loyiha tafsilotlari",
    formSubmit: "So'rov yuborish"
  },
  ru: {
    menuLabel: "Меню",
    navBackProjects: "Назад к проектам",
    navHome: "Главная",
    navServices: "Услуги",
    navProjects: "Проекты",
    navAbout: "О компании",
    navContact: "Контакты",
    heroEyebrow: "Инженерная студия инфраструктуры",
    heroTitle: "Проектируем более безопасные дороги с измеримым результатом",
    heroSub: "Разрабатываем транспортные и гражданские инфраструктурные решения, готовые к строительству, соответствующие нормам и экономически обоснованные.",
    ctaProposal: "Запросить предложение",
    ctaProjects: "Смотреть проекты",
    metricProjects: "Реализованные инфраструктурные проекты",
    metricRegions: "Регионы присутствия",
    metricExperience: "Лет опыта",
    evolutionEyebrow: "Трансформация проекта",
    evolutionTitle: "От технических чертежей к реальным дорогам",
    evolutionSub: "Концептуальная анимация этапов: CAD-планирование, 3D-координация и реализованный объект.",
    stageCad: "CAD",
    stage3d: "3D Модель",
    stageReal: "Реальный Объект",
    priorityEyebrow: "Классы проектов",
    priorityTitle: "Структурированная реализация для разных уровней приоритета",
    priorityTag1: "Уровень 1",
    priorityTag2: "Уровень 2",
    priorityTag3: "Уровень 3",
    priorityCard1Title: "Национальные и стратегические коридоры",
    priorityCard1Body: "Защищенный проектный процесс для государственных и критически важных городских маршрутов.",
    priorityCard2Title: "Городская коммерческая инфраструктура",
    priorityCard2Body: "Транспортно-чувствительные решения для ТРЦ, деловых зон и mixed-use объектов.",
    priorityCard3Title: "Первичные и вторичные дороги",
    priorityCard3Body: "Масштабируемые стандарты для региональных связей и поэтапных программ расширения.",
    processEyebrow: "Метод реализации",
    processTitle: "Инженерный процесс с фокусом на ответственность",
    processStep1Title: "01. Диагностика и карта рисков",
    processStep1Body: "Базовые изыскания, модель спроса и реестр рисков в привязке к ограничениям проекта.",
    processStep2Title: "02. Альтернативные решения",
    processStep2Body: "Сравнение вариантов по безопасности, стоимости, реализуемости и этапности.",
    processStep3Title: "03. Скоординированный пакет",
    processStep3Body: "Дорожная, конструктивная, дренажная и инженерная документация синхронизируется в единый пакет.",
    processStep4Title: "04. Тендер и сопровождение",
    processStep4Body: "Тендерный комплект с контролируемыми ревизиями и рекомендациями по реализации.",
    secureEyebrow: "Конфиденциальный контур",
    secureTitle: "Безопасность и конфиденциальность по умолчанию",
    secureSub: "Для высокоприоритетных и чувствительных проектов применяется управляемый контур документооборота и согласований.",
    secureCard1Title: "Контролируемый доступ",
    secureCard1Body: "Ролевая модель доступа и поэтапное раскрытие информации.",
    secureCard2Title: "Трассируемость изменений",
    secureCard2Body: "Каждое обновление фиксируется с технической ответственностью и журналом согласований.",
    secureCard3Title: "Операционная дисциплина",
    secureCard3Body: "Протокол конфиденциальности встроен в координацию, выпуск и сопровождение.",
    servicesEyebrow: "Ключевые компетенции",
    servicesTitle: "Что мы выполняем под ключ",
    service1Title: "Проектирование дорог",
    service1Body: "ТЭО, геометрия трассы, конструкции покрытия и решения по безопасности движения.",
    service2Title: "Мосты и сооружения",
    service2Body: "Концепт, рабочие чертежи, расчет нагрузок и междисциплинарная координация.",
    service3Title: "Строительная документация",
    service3Body: "Тендерная документация, ведомости объемов и сопровождение технадзора.",
    projectsEyebrow: "Избранное портфолио",
    projectsTitle: "Последние проектные кейсы",
    projectDescriptionTitle: "Описание проекта",
    scopeTitle: "Объем работ",
    clientObjectiveTitle: "Задача заказчика",
    resultTitle: "Результат",
    timelineTitle: "График проекта",
    mediaPhotosTitle: "Фотографии проекта",
    mediaVideoTitle: "Видео проекта",
    mediaAudioTitle: "Аудио-бриф проекта",
    previousProject: "Предыдущий проект",
    nextProject: "Следующий проект",
    phase1Label: "Этап 1",
    phase2Label: "Этап 2",
    phase3Label: "Этап 3",
    project1Title: "Модернизация Ташкентской кольцевой дороги",
    project1Body: "Модернизация 32 км коридора с поэтапной реализацией и сохранением транспортного потока.",
    project2Title: "Расширение городской магистрали",
    project2Body: "Увеличение пропускной способности, редизайн водоотвода и безопасность пешеходов.",
    project3Title: "Развязка подъезда к мосту",
    project3Body: "Оптимизация геометрии развязки и конструктивного пакета под тяжелый трафик.",
    project4Title: "Реконструкция региональной автомагистрали",
    project4Body: "Пакет реконструкции коридора с повышением безопасности и обновлением дренажной системы.",
    project5Title: "Подъездные дороги к логистическому хабу",
    project5Body: "Сеть промышленных подъездов с геометрией под тяжелый транспорт и поэтапной реализацией.",
    aboutEyebrow: "Профиль компании",
    aboutTitle: "Инженерная дисциплина и фокус на результате",
    aboutBody: "YOL LOYIHA TARAQQIYOT - проектная компания в Ташкенте, специализирующаяся на транспортной инфраструктуре. Мы объединяем инженерную точность, знание местных норм и понимание строительной практики.",
    contactEyebrow: "Старт проекта",
    contactTitle: "Отправьте техническое задание для инженерной оценки",
    contactCompanyLabel: "Компания:",
    contactCompanyValue: "ООО YOL LOYIHA TARAQQIYOT",
    contactAddressLabel: "Адрес:",
    contactAddressValue: "г. Ташкент, Алмазарский район, ул. Беруний, дом 2, кв. 15",
    contactPostalLabel: "Индекс:",
    contactPostalValue: "100020",
    contactAccountLabel: "р/с:",
    contactAccountValue: "2020 8000 8051 2411 5001",
    contactBankLabel: "Банк:",
    contactBankValue: "Алмазарский филиал АТИБ «Ипотека банк»",
    contactMfoLabel: "МФО:",
    contactMfoValue: "00901",
    contactTaxLabel: "ИНН:",
    contactTaxValue: "306714958",
    contactOkedLabel: "ОКЭД:",
    contactOkedValue: "96120",
    formName: "ФИО",
    formEmail: "Рабочий email",
    formMessage: "Детали проекта",
    formSubmit: "Отправить запрос"
  }
};

const projectContent = {
  en: {
    "1": {
      heroTag: "Project 1",
      title: "Tashkent Ring Road Upgrade",
      summary: "Comprehensive modernization of a major corridor with staged traffic continuity planning.",
      description: "This concept package focuses on capacity expansion, safer geometry, and constructible phasing. It is written as placeholder content so you can replace it with real project facts later.",
      scope: "Road geometry redesign, drainage updates, pavement structure review, and junction safety checks.",
      objective: "Increase corridor throughput while keeping city traffic functional during each construction phase.",
      result: "Prepared a construction-ready documentation baseline and staged implementation roadmap.",
      phase1: "Existing condition studies, survey validation, and transport diagnostics.",
      phase2: "Alternative alignments, safety review, and cross-discipline coordination.",
      phase3: "Final documentation package and execution-phase support framework."
    },
    "2": {
      heroTag: "Project 2",
      title: "Urban Arterial Expansion",
      summary: "City arterial upgrade designed to improve flow, safety, and multimodal access.",
      description: "This placeholder brief highlights urban constraints, phased reconstruction strategy, and safety-centered design decisions for dense city traffic.",
      scope: "Lane expansion strategy, drainage redesign, pedestrian crossing upgrades, and bus-stop interface checks.",
      objective: "Reduce peak-hour bottlenecks while improving pedestrian and public transport safety.",
      result: "Completed a coordinated technical package ready for approval and procurement planning.",
      phase1: "Traffic pattern review, bottleneck mapping, and baseline assessments.",
      phase2: "Geometry options, utility coordination, and preliminary cost balancing.",
      phase3: "Final design issue, implementation sequencing, and tender handover."
    },
    "3": {
      heroTag: "Project 3",
      title: "Bridge Access Interchange",
      summary: "Interchange and approach corridor package for heavy-load regional traffic.",
      description: "Draft description text for your future case study. Replace this section with real client context, site constraints, and decision logic.",
      scope: "Interchange geometry, structural coordination, drainage tie-ins, and signage strategy.",
      objective: "Improve safety and reduce conflict points at key bridge entry and exit zones.",
      result: "Delivered an integrated design package aligned to structural and roadway requirements.",
      phase1: "Site and constraint analysis with preliminary traffic conflict mapping.",
      phase2: "Interchange geometry refinement and structural interface coordination.",
      phase3: "Issued final design set with implementation and staging guidance."
    },
    "4": {
      heroTag: "Project 4",
      title: "Regional Highway Reconstruction",
      summary: "Reconstruction concept for a regional highway segment with upgraded safety standards.",
      description: "Use this placeholder to describe your project background, challenge, design approach, and strategic impact in your own words.",
      scope: "Corridor reconstruction, shoulder and safety upgrades, pavement improvements, and drainage works.",
      objective: "Increase reliability and extend service life of a high-demand regional route.",
      result: "Prepared a phased reconstruction plan and technical package for staged implementation.",
      phase1: "Asset condition evaluation and risk-priority segmentation.",
      phase2: "Engineering options, lifecycle review, and safety enhancement planning.",
      phase3: "Finalized reconstruction package and execution phasing instructions."
    },
    "5": {
      heroTag: "Project 5",
      title: "Logistics Hub Access Roads",
      summary: "Industrial access road network tailored for heavy freight and turning performance.",
      description: "Placeholder narrative for a logistics-focused case study. Replace with actual client data, volume assumptions, and outcomes.",
      scope: "Freight-compatible geometry, pavement checks, gate access design, and circulation planning.",
      objective: "Create reliable and safe access for high-volume industrial traffic and operations.",
      result: "Delivered coordinated access road concept and implementation documentation framework.",
      phase1: "Freight movement analysis and terminal interface mapping.",
      phase2: "Access alignment design with heavy-vehicle swept-path validation.",
      phase3: "Documentation issue for implementation and contractor coordination."
    }
  },
  uz: {
    "1": {
      heroTag: "1-loyiha",
      title: "Toshkent halqa yo'li modernizatsiyasi",
      summary: "Yirik transport koridorini bosqichma-bosqich yangilash va harakat uzluksizligini ta'minlash loyihasi.",
      description: "Ushbu matn vaqtinchalik namunadir. Keyinroq bu yerga haqiqiy loyiha ma'lumotlari, muammo va yechimlarni kiritishingiz mumkin.",
      scope: "Yo'l geometriyasini yangilash, drenaj tizimini takomillashtirish, qoplama konstruksiyasini qayta ko'rib chiqish.",
      objective: "Qurilish bosqichlarida harakatni saqlagan holda o'tkazuvchanlikni oshirish.",
      result: "Qurilishga tayyor hujjatlar bazasi va bosqichma-bosqich amalga oshirish rejasi tayyorlandi.",
      phase1: "Mavjud holat tahlili, geodeziya tekshiruvi va transport diagnostikasi.",
      phase2: "Muqobil yechimlar, xavfsizlik ekspertizasi va tarmoqlararo muvofiqlashtirish.",
      phase3: "Yakuniy hujjatlar to'plami va amalga oshirish bosqichi bo'yicha qo'llab-quvvatlash."
    },
    "2": {
      heroTag: "2-loyiha",
      title: "Shahar magistrali kengaytmasi",
      summary: "Shahar sharoitida oqimni yaxshilash va xavfsizlikni kuchaytirishga qaratilgan modernizatsiya.",
      description: "Bu bo'lim vaqtinchalik matn bilan to'ldirilgan. Keyin loyihaning haqiqiy vazifalari va natijalarini qo'shishingiz mumkin.",
      scope: "Yo'laklarni kengaytirish, drenajni qayta loyihalash, piyodalar o'tish joylarini yaxshilash.",
      objective: "Tiqinlarni kamaytirish va piyodalar hamda jamoat transporti xavfsizligini oshirish.",
      result: "Tasdiqlash va tender jarayoniga tayyor muvofiqlashtirilgan texnik paket ishlab chiqildi.",
      phase1: "Transport oqimlarini tahlil qilish va muammo nuqtalarini aniqlash.",
      phase2: "Geometriya variantlari va kommunikatsiyalar bilan muvofiqlashtirish.",
      phase3: "Yakuniy loyiha hujjatlari va amalga oshirish ketma-ketligini topshirish."
    },
    "3": {
      heroTag: "3-loyiha",
      title: "Ko'prikka kirish yo'li tuguni",
      summary: "Yuqori yuklama ostidagi oqimlar uchun yo'l tuguni va kirish qismi yechimi.",
      description: "Bu tavsif namunaviy matn hisoblanadi. Uni keyinchalik loyiha konteksti va haqiqiy texnik qarorlar bilan almashtirasiz.",
      scope: "Tugun geometriyasi, konstruktiv muvofiqlashuv, drenaj ulanishlari va belgilash rejasi.",
      objective: "Ko'prik kirish va chiqish hududlarida xavfsizlikni oshirish va to'qnashuv nuqtalarini kamaytirish.",
      result: "Konstruktiv va yo'l qismi talablariga mos integratsiyalashgan loyiha paketi tayyorlandi.",
      phase1: "Maydon cheklovlari va transport xavf nuqtalarini tahlil qilish.",
      phase2: "Tugun geometriyasini aniqlashtirish va konstruktiv interfeyslarni kelishish.",
      phase3: "Yakuniy to'plamni chiqarish va bosqichma-bosqich bajarish bo'yicha ko'rsatmalar."
    },
    "4": {
      heroTag: "4-loyiha",
      title: "Hududiy avtomagistral rekonstruksiyasi",
      summary: "Hududiy yo'l uchastkasini xavfsizlik talablari asosida qayta qurish konsepsiyasi.",
      description: "Bu yerga keyinroq loyihaning boshlang'ich holati, murakkabliklari va qabul qilingan muhandislik qarorlarini kiritasiz.",
      scope: "Koridor rekonstruksiyasi, yo'l chetlari va xavfsizlik elementlarini yangilash, drenaj ishlari.",
      objective: "Yo'lning ishonchliligini oshirish va xizmat muddatini uzaytirish.",
      result: "Bosqichma-bosqich rekonstruksiya rejasi va texnik hujjatlar paketi tayyorlandi.",
      phase1: "Aktivlar holatini baholash va xavf ustuvorligini ajratish.",
      phase2: "Muhandislik variantlari hamda xavfsizlik choralari bo'yicha tahlil.",
      phase3: "Yakuniy rekonstruksiya to'plami va bajarish bosqichi ko'rsatmalari."
    },
    "5": {
      heroTag: "5-loyiha",
      title: "Logistika markaziga kirish yo'llari",
      summary: "Yirik yuk transporti uchun moslashtirilgan sanoat kirish yo'llari tarmog'i.",
      description: "Bu namunaviy matn bo'lib, keyinchalik real buyurtmachi ma'lumotlari va loyiha natijalari bilan almashtiriladi.",
      scope: "Yuk transportiga mos geometriya, qoplama tekshiruvlari, kirish-chiqish tugunlari.",
      objective: "Sanoat oqimlari uchun barqaror va xavfsiz kirish infratuzilmasini yaratish.",
      result: "Kirish yo'llari konsepsiyasi va amalga oshirish uchun hujjatlashtirish bazasi ishlab chiqildi.",
      phase1: "Yuk oqimlari tahlili va terminal interfeyslarini xaritalash.",
      phase2: "Kirish yo'llari yo'nalishini loyihalash va og'ir transport manevrlarini tekshirish.",
      phase3: "Qurilish bosqichi uchun hujjatlarni chiqarish va pudratchi bilan muvofiqlashuv."
    }
  },
  ru: {
    "1": {
      heroTag: "Проект 1",
      title: "Модернизация Ташкентской кольцевой дороги",
      summary: "Комплексная модернизация ключевого коридора с поэтапным сохранением транспортного потока.",
      description: "Текст-заглушка для будущего кейса. Позже вы замените его фактическими данными проекта, вызовами и принятыми решениями.",
      scope: "Перепроектирование геометрии, обновление дренажа, проверка конструкции покрытия и безопасности узлов.",
      objective: "Повысить пропускную способность при сохранении движения на этапах строительства.",
      result: "Подготовлена база рабочей документации и дорожная карта поэтапной реализации.",
      phase1: "Анализ существующего состояния, верификация изысканий и транспортная диагностика.",
      phase2: "Проработка альтернатив, аудит безопасности и междисциплинарная координация.",
      phase3: "Выпуск финального пакета документации и поддержка этапа реализации."
    },
    "2": {
      heroTag: "Проект 2",
      title: "Расширение городской магистрали",
      summary: "Модернизация городской магистрали для повышения пропускной способности и безопасности.",
      description: "Временное описание проекта. Позже вы добавите фактические данные, ограничения площадки и итоговые метрики.",
      scope: "Стратегия расширения полос, редизайн дренажа, улучшение пешеходных переходов и узлов ОТ.",
      objective: "Снизить пиковые заторы и повысить безопасность пешеходов и общественного транспорта.",
      result: "Сформирован согласованный технический пакет, готовый для утверждения и закупочных процедур.",
      phase1: "Анализ транспортных потоков и выявление узких мест.",
      phase2: "Сравнение геометрических решений и увязка с инженерными сетями.",
      phase3: "Выпуск финальной документации и передача последовательности реализации."
    },
    "3": {
      heroTag: "Проект 3",
      title: "Развязка подъезда к мосту",
      summary: "Проект развязки и подходов для интенсивного и тяжелого транспортного трафика.",
      description: "Шаблонный текст для вашего будущего описания. Замените его реальным контекстом, ограничениями и принятыми решениями.",
      scope: "Геометрия развязки, увязка со структурной частью, подключение дренажа и схема организации движения.",
      objective: "Снизить конфликтные точки и повысить безопасность в зонах въезда и выезда с моста.",
      result: "Подготовлен интегрированный проектный пакет, согласованный между дорожной и конструктивной частями.",
      phase1: "Анализ площадки и картирование транспортных конфликтов.",
      phase2: "Уточнение геометрии развязки и стыковка с конструктивными решениями.",
      phase3: "Выпуск итогового комплекта и инструкций по этапности реализации."
    },
    "4": {
      heroTag: "Проект 4",
      title: "Реконструкция региональной автомагистрали",
      summary: "Концепция реконструкции регионального участка с повышением стандартов безопасности.",
      description: "Временный текст, который можно заменить на фактическое описание проекта, исходные условия и инженерную логику.",
      scope: "Реконструкция коридора, усиление элементов безопасности, улучшение покрытия и водоотвода.",
      objective: "Повысить надежность маршрута и продлить срок службы дорожной инфраструктуры.",
      result: "Подготовлен поэтапный план реконструкции и технический пакет для реализации.",
      phase1: "Оценка состояния активов и сегментация по приоритетам риска.",
      phase2: "Сравнение инженерных вариантов и планирование мер безопасности.",
      phase3: "Финализация пакета реконструкции и этапности выполнения."
    },
    "5": {
      heroTag: "Проект 5",
      title: "Подъездные дороги к логистическому хабу",
      summary: "Сеть промышленных подъездов, адаптированная под интенсивный грузовой трафик.",
      description: "Текст-заполнитель для будущего кейса. Позже вы добавите фактические данные клиента, объемы и результаты.",
      scope: "Геометрия под грузовой транспорт, проверка конструкции покрытия, узлы въезда/выезда и схема циркуляции.",
      objective: "Создать безопасный и устойчивый доступ для промышленной логистики с высокой нагрузкой.",
      result: "Разработана концепция подъездной сети и пакет документации для реализации.",
      phase1: "Анализ грузовых потоков и интерфейсов с терминальной зоной.",
      phase2: "Проектирование трасс с проверкой маневров тяжелых ТС.",
      phase3: "Выпуск документов для реализации и координация с подрядчиком."
    }
  }
};

function applyLanguage(lang) {
  const dictionary = translations[lang] || translations.en;
  document.querySelectorAll("[data-lang]").forEach((element) => {
    const key = element.getAttribute("data-lang");
    if (dictionary[key]) {
      element.textContent = dictionary[key];
    }
  });

  document.querySelectorAll("[data-set-lang]").forEach((button) => {
    button.classList.toggle("active", button.getAttribute("data-set-lang") === lang);
  });

  document.documentElement.lang = lang;
  setStoredLanguage(lang);
  applyProjectContent(lang);
  updateWatermark(lang);
}

function applyProjectContent(lang) {
  const projectId = document.body ? document.body.getAttribute("data-project-id") : null;
  if (!projectId) return;

  const localizedSet = projectContent[lang] || projectContent.en;
  const localizedProject = localizedSet[projectId] || projectContent.en[projectId];
  if (!localizedProject) return;

  Object.entries(localizedProject).forEach(([key, value]) => {
    document.querySelectorAll(`[data-project-field="${key}"]`).forEach((element) => {
      element.textContent = value;
    });
  });
}

function getStoredLanguage() {
  try {
    return window.localStorage.getItem("site_lang");
  } catch (error) {
    return null;
  }
}

function setStoredLanguage(lang) {
  try {
    window.localStorage.setItem("site_lang", lang);
  } catch (error) {
    // Storage can be blocked in some environments (private/file mode).
  }
}

function initLanguage() {
  const saved = getStoredLanguage();
  const browser = (navigator.language || "en").slice(0, 2);
  const defaultLang = translations[saved] ? saved : translations[browser] ? browser : "en";

  document.querySelectorAll("[data-set-lang]").forEach((button) => {
    button.addEventListener("click", () => {
      applyLanguage(button.getAttribute("data-set-lang"));
    });
  });

  // Delegate fallback: ensures switching works even if buttons are replaced dynamically.
  document.addEventListener("click", (event) => {
    const button = event.target.closest("[data-set-lang]");
    if (!button) return;
    applyLanguage(button.getAttribute("data-set-lang"));
  });

  applyLanguage(defaultLang);
}

function initMenu() {
  const menuToggle = document.getElementById("menuToggle");
  const nav = document.getElementById("mainNav");

  if (!menuToggle || !nav) return;

  menuToggle.addEventListener("click", () => {
    const isOpen = nav.classList.toggle("open");
    menuToggle.setAttribute("aria-expanded", String(isOpen));
  });

  nav.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      nav.classList.remove("open");
      menuToggle.setAttribute("aria-expanded", "false");
    });
  });
}

function initYear() {
  const yearEl = document.getElementById("year");
  if (yearEl) {
    yearEl.textContent = String(new Date().getFullYear());
  }
}

function initScrollSpy() {
  const nav = document.getElementById("mainNav");
  if (!nav) return;

  const links = Array.from(nav.querySelectorAll("a[href^='#']"));
  if (!links.length) return;

  const sectionMap = links
    .map((link) => {
      const targetId = link.getAttribute("href");
      const section = targetId ? document.querySelector(targetId) : null;
      return section ? { link, section } : null;
    })
    .filter(Boolean);

  if (!sectionMap.length) return;

  const setActive = (activeLink) => {
    links.forEach((link) => {
      link.classList.toggle("active", link === activeLink);
    });
  };

  const updateActive = () => {
    const scrollY = window.scrollY + 140;
    let current = sectionMap[0];

    sectionMap.forEach((entry) => {
      if (entry.section.offsetTop <= scrollY) {
        current = entry;
      }
    });

    setActive(current.link);
  };

  updateActive();
  window.addEventListener("scroll", updateActive, { passive: true });
  window.addEventListener("resize", updateActive);
}

function initContentProtection() {
  const isEditableTarget = (target) => {
    if (!target || typeof target.closest !== "function") return false;
    return Boolean(target.closest("input, textarea, [contenteditable='true']"));
  };

  document.addEventListener("contextmenu", (event) => {
    if (isEditableTarget(event.target)) return;
    event.preventDefault();
  });

  document.addEventListener("dragstart", (event) => {
    const target = event.target;
    if (target && (target.closest("img") || target.closest("video") || target.closest("audio"))) {
      event.preventDefault();
    }
  });

  document.addEventListener("selectstart", (event) => {
    if (isEditableTarget(event.target)) return;
    event.preventDefault();
  });

  document.addEventListener("keydown", (event) => {
    if (isEditableTarget(event.target)) return;
    const key = event.key.toLowerCase();
    const withCtrl = event.ctrlKey || event.metaKey;
    if (
      (withCtrl && ["s", "u", "p", "c", "x"].includes(key)) ||
      (event.ctrlKey && event.shiftKey && ["i", "j", "c"].includes(key)) ||
      key === "f12"
    ) {
      event.preventDefault();
    }
  });
}

function initWatermark() {
  if (document.getElementById("siteWatermark")) return;
  const watermark = document.createElement("div");
  watermark.id = "siteWatermark";
  watermark.className = "site-watermark";
  watermark.setAttribute("aria-hidden", "true");
  document.body.appendChild(watermark);
}

function updateWatermark(lang) {
  const node = document.getElementById("siteWatermark");
  if (!node) return;
  const tag = lang === "ru" ? "Конфиденциально" : lang === "uz" ? "Maxfiy" : "Confidential";
  node.textContent = `YOL LOYIHA TARAQQIYOT - ${tag}`;
}

function initFrameGuard() {
  try {
    if (window.top !== window.self) {
      window.top.location = window.self.location;
    }
  } catch (error) {
    // Cross-origin frame access can throw in hardened environments.
  }
}

function initMediaFallbacks() {
  // Project pages only.
  if (!document.body || !document.body.getAttribute("data-project-id")) return;

  const photoSection = document.querySelector(".project-photo-grid")?.closest(".section");
  const photos = Array.from(document.querySelectorAll(".project-photo-grid img"));
  if (photos.length) {
    photos.forEach((img) => {
      img.addEventListener("error", () => {
        img.style.display = "none";
        const hasVisible = photos.some((node) => node.style.display !== "none");
        if (!hasVisible && photoSection) {
          photoSection.style.display = "none";
        }
      });
    });
  }

  const mediaSection = document.querySelector(".project-media-stack")?.closest(".section");
  const mediaCards = Array.from(document.querySelectorAll(".project-media-stack .media-card"));
  if (mediaCards.length) {
    mediaCards.forEach((card) => {
      const media = card.querySelector("video, audio");
      if (!media) return;
      media.addEventListener("error", () => {
        card.style.display = "none";
        const hasVisible = mediaCards.some((node) => node.style.display !== "none");
        if (!hasVisible && mediaSection) {
          mediaSection.style.display = "none";
        }
      });
    });
  }
}

function initReveal() {
  const nodes = document.querySelectorAll(".reveal");
  if (!nodes.length) return;

  if ("IntersectionObserver" in window) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.16 }
    );
    nodes.forEach((node) => observer.observe(node));
    return;
  }

  nodes.forEach((node) => node.classList.add("visible"));
}

function initContactFormShield() {
  const forms = document.querySelectorAll(".contact-form");
  if (!forms.length) return;

  const now = Date.now();

  forms.forEach((form) => {
    const renderedAtInput = form.querySelector("input[name='form_rendered_at']");
    const botField = form.querySelector("input[name='website']");
    const statusNode = form.querySelector(".form-note");

    if (renderedAtInput) {
      renderedAtInput.value = String(now);
    }

    form.addEventListener("submit", (event) => {
      const submittedAt = Date.now();
      const renderedAt = renderedAtInput ? Number(renderedAtInput.value || 0) : submittedAt;
      const elapsedMs = submittedAt - renderedAt;
      const lastSubmit = Number(window.localStorage.getItem("last_contact_submit_at") || 0);

      if (statusNode) {
        statusNode.textContent = "";
      }

      // Common bot signal: hidden field unexpectedly filled.
      if (botField && botField.value.trim()) {
        event.preventDefault();
        return;
      }

      // Blocks ultra-fast automation and stale replay attempts.
      if (elapsedMs < 3000 || elapsedMs > 3600000) {
        event.preventDefault();
        if (statusNode) {
          statusNode.textContent = "Please wait a few seconds and try again.";
        }
        return;
      }

      // Light client-side throttle for repeated submissions.
      if (lastSubmit && submittedAt - lastSubmit < 30000) {
        event.preventDefault();
        if (statusNode) {
          statusNode.textContent = "Please wait 30 seconds before sending another request.";
        }
        return;
      }

      if (!form.checkValidity()) {
        event.preventDefault();
        if (statusNode) {
          statusNode.textContent = "Please fill all required fields correctly.";
        }
        return;
      }

      window.localStorage.setItem("last_contact_submit_at", String(submittedAt));

      const action = (form.getAttribute("action") || "").trim();
      if (!action || action === "#") {
        event.preventDefault();
        if (statusNode) {
          statusNode.textContent = "Direct form delivery is disabled. Please contact us by email or phone.";
        }
      }
    });
  });
}

initLanguage();
initMenu();
initYear();
initScrollSpy();
initContentProtection();
initWatermark();
initFrameGuard();
initMediaFallbacks();
initReveal();
initContactFormShield();
